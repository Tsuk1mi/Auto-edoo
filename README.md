# Auto-EDO - Система электронного документооборота

Полноценное веб-приложение для работы с электронными документами с использованием React, TypeScript, TailwindCSS на фронтенде и Express, MongoDB на бэкенде.

## Особенности проекта

- **Фронтенд**: React, React Router, Zustand, Tailwind CSS
- **Бэкенд**: Express, MongoDB, JWT аутентификация
- **Разработка**: TypeScript, Biome, Vite

## Требования

- [Node.js](https://nodejs.org/) 18+ или [Bun](https://bun.sh/)
- [MongoDB](https://www.mongodb.com/) (опционально, если не используете режим разработки без базы данных)

## Установка и запуск

### Клонирование репозитория

```bash
git clone https://github.com/Tsuk1mi/Auto-edoo.git
cd Auto-edoo
```

### Установка зависимостей

С использованием Bun (рекомендуется):

```bash
bun install
cd server && bun install && cd ..
```

Или с использованием npm:

```bash
npm install
cd server && npm install && cd ..
```

### Запуск в режиме разработки

Для запуска только фронтенда:

```bash
bun run dev
```

Для запуска сервера (без подключения к базе данных):

```bash
bun run server
```

Для одновременного запуска фронтенда и сервера:

```bash
bun run dev:all
```

После запуска:
- Фронтенд будет доступен по адресу: http://localhost:5173
- Сервер API будет доступен по адресу: http://localhost:5000

## Демонстрационный режим

В режиме разработки без БД вы можете войти в систему, используя следующие учетные данные:

- **Администратор**:
  - Email: admin@example.com
  - Пароль: password123

- **Обычный пользователь**:
  - Email: user@example.com
  - Пароль: password123

Для быстрого входа в демо-режим:
1. Перейдите на страницу входа
2. Нажмите кнопку "Демо режим" (автоматически заполнит учетные данные и выполнит вход)

## Запуск с MongoDB

Если вы хотите использовать MongoDB:

1. Установите и запустите MongoDB на вашей машине
2. Измените значение `NODE_ENV` в файле `server/.env` на `development`
3. Запустите сервер командой:
```bash
cd server && bun run dev
```

## Структура проекта

```
src/               # Исходный код фронтенда
  ├── api/         # API-клиент и взаимодействие с сервером
  ├── components/  # Переиспользуемые компоненты
  │   ├── layout/  # Компоненты макета (Header, Sidebar, etc.)
  │   └── ui/      # UI компоненты (Button, Input, Modal, etc.)
  ├── features/    # Функциональные модули
  │   ├── auth/    # Аутентификация
  │   ├── documents/ # Работа с документами
  │   ├── integration/ # Интеграции
  │   └── settings/ # Настройки
  ├── hooks/       # Пользовательские React-хуки
  ├── pages/       # Страницы приложения
  ├── router/      # Настройка маршрутов
  ├── store/       # Хранилище состояния (Zustand)
  ├── types/       # TypeScript типы и интерфейсы
  └── utils/       # Утилиты и вспомогательные функции

server/            # Исходный код бэкенда
  ├── src/         # Исходные файлы
  │   ├── config/  # Настройки сервера
  │   ├── controllers/ # Контроллеры API
  │   ├── middleware/ # Промежуточное ПО
  │   ├── models/  # Модели данных MongoDB
  │   ├── routes/  # Маршруты API
  │   └── utils/   # Утилиты
```

## API Endpoints

### Авторизация

- **POST /api/auth/register** - Регистрация нового пользователя
- **POST /api/auth/login** - Авторизация
- **GET /api/auth/me** - Получение данных текущего пользователя (требует авторизации)

### Документы

- **GET /api/documents** - Получение всех документов пользователя (требует авторизации)
- **GET /api/documents/:id** - Получение документа по ID (требует авторизации)
- **POST /api/documents** - Создание нового документа (требует авторизации)
- **PUT /api/documents/:id** - Обновление документа (требует авторизации)
- **DELETE /api/documents/:id** - Удаление документа (требует авторизации)

## Система логирования

Система включает расширенные возможности логирования:

- Консольное логирование (в режиме разработки)
- Отправка критических ошибок на сервер
- Сохранение логов в localStorage (в режиме разработки)
- Просмотр логов через интерфейс приложения (в разделе "Настройки")

## Аутентификация

Аутентификация реализована с использованием JWT-токенов:

- Токен хранится в localStorage
- Защищенные маршруты требуют авторизации
- Автоматическое перенаправление на страницу входа при истечении токена
- Перенаправление обратно на запрошенную страницу после успешного входа

## Сборка для производства

Для создания производственной сборки выполните:

```bash
bun run build:all
```

Результаты сборки будут размещены в директориях:
- Фронтенд: `dist/`
- Бэкенд: `server/dist/`
